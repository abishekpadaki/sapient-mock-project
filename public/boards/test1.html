<!DOCTYPE html>
<html>

<head>
    <title>Convert JSON Data to HTML Table</title>
    <style>
        th,
        td,
        p,
        input {
            font: 14px Verdana;
        }

        table,
        th,
        td {
            border: solid 1px #DDD;
            border-collapse: collapse;
            padding: 2px 3px;
            text-align: center;
        }

        th {
            font-weight: bold;
        }
    </style>
</head>

<body>
    <input type="button" onclick="CreateTableFromJSON()" value="Create Table From JSON" />
    <p id="showData"></p>
</body>

<script>
    function CreateTableFromJSON() {
        var feedBack = [{
            "OracleId": 123457,
            "OverallRating": 5,
            "ClientFocusedDelivery": 5,
            "Creativity": 5,
            "Leadership": 5,
            "Openess": 5,
            "PeopleGrowth": 5,
            "Relationships": 5,
        },
        {
            "OracleId": 123557,
            "OverallRating": 5,
            "ClientFocusedDelivery": 5,
            "Creativity": 5,
            "Leadership": 5,
            "Openess": 5,
            "PeopleGrowth": 5,
            "Relationships": 5,

        },

        {
            "OracleId": 123657,
            "OverallRating": 5,
            "ClientFocusedDelivery": 5,
            "Creativity": 5,
            "Leadership": 5,
            "Openess": 5,
            "People1Growth": 5,
            "Relationships": 5,

        },
        {
            "OracleId": 124057,
            "OverallRating": 5,
            "ClientFocusedDelivery": 5,
            "Creativity": 5,
            "Leadership": 5,
            "Openess": 5,
            "PeopleGrowth": 5,
            "Relationships": 5,
        },
        {
            "OracleId": 1239,
            "OverallRating": 5,
            "ClientFocusedDelivery": 5,
            "Creativity": 5,
            "Leadership": 5,
            "Openess": 5,
            "PeopleGrowth": 5,
            "Relationships": 5,
        },

        ];
        var dataBase = [
            {
                "OracleId": "123457",
                "FirstName": "John",
                "LastName": "Doe",
                "EmailId": "john@gmail.com",
                "gender": "male",
                "password": "lochan123",
                "role": "HR"
            },
            {
                "OracleId": "123557",
                "FirstName": "David",
                "LastName": "joe",
                "EmailId": "david@gmail.com",
                "gender": "male",
                "password": "david123",
                "role": "PM"
            },
            {
                "OracleId": "123657",
                "FirstName": "Ross",
                "LastName": "boe",
                "EmailId": "ross@gmail.com",
                "gender": "male",
                "password": "ross123",
                "role": "CT"
            },
            {
                "OracleId": "123757",
                "FirstName": "Micheal",
                "LastName": "Boss",
                "EmailId": "boss@gmail.com",
                "gender": "male",
                "password": "boss123",
                "role": "Mentor"
            },
            {
                "OracleId": "123857",
                "FirstName": "Kiran",
                "LastName": "gooby",
                "EmailId": "gooby@gmail.com",
                "gender": "male",
                "password": "gooby123",
                "role": "SuperAdmin"
            },

            {
                "OracleId": "123957",
                "FirstName": "Lochan",
                "LastName": "Rn",
                "EmailId": "lochan@gmail.com",
                "gender": "male",
                "password": "loch123",
                "role": "SuperAdmin"
            },

            {
                "OracleId": "124057",
                "FirstName": "Anurag",
                "LastName": "hakeem",
                "EmailId": "anurag@gmail.com",
                "gender": "male",
                "password": "hakeem123",
                "role": "Trainer"
            },

        ];


        "use strict";
        //let dataBase = window.dataBase;
        // let requestedForOracleId = dataBase.getItem('OracleId')

        // let value = dataBase.find((val) => {
        //    return val.OracleId === requestedForOracleId;
        //});


        //let table = document.getElementById('feedBacks');
        //for (let fb of feedBack) {
        //    if (fb.OracleId == val.OracleId) {
        dataBase.forEach((user) => {
            if (feedBack.OracleId === user.OracleId) {





                var col = [];
                for (var i = 0; i < feedBack.length; i++) {
                    for (var key in feedBack[i]) {
                        if (col.indexOf(key) === -1) {
                            col.push(key);
                        }
                    }
                }

                // CREATE DYNAMIC TABLE.
                var table = document.createElement("table");

                // CREATE HTML TABLE HEADER ROW USING THE EXTRACTED HEADERS ABOVE.

                var tr = table.insertRow(-1);                   // TABLE ROW.

                for (var i = 0; i < col.length; i++) {
                    var th = document.createElement("th");      // TABLE HEADER.
                    th.innerHTML = col[i];
                    tr.appendChild(th);
                }

                // ADD JSON DATA TO THE TABLE AS ROWS.
                for (var i = 0; i < feedBack.length; i++) {

                    tr = table.insertRow(-1);

                    for (var j = 0; j < col.length; j++) {
                        var tabCell = tr.insertCell(-1);
                        tabCell.innerHTML = feedBack[i][col[j]];
                    }
                }

                // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
                var divContainer = document.getElementById("showData");
                divContainer.innerHTML = "";
                divContainer.appendChild(table);
            }
        }
        )
    }
</script>

</html>